<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Details</title>
    <link rel="stylesheet" href="patient-details.css">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("uxowx8uL9zxSSj8V1");
        })();
    </script>

</head>

<body>
    <div class="container">
        <header>
            <h1>Patient Details</h1>
        </header>

        <section id="patient-info">
            <h2>Patient Information</h2>
            <div><strong>Name:</strong> <span id="name"></span></div>
            <div><strong>Age:</strong> <span id="age"></span></div>
            <div><strong>Gender:</strong> <span id="gender"></span></div>
            <div><strong>Contact:</strong> <span id="contact"></span></div>
            <div><strong>Email:</strong> <span id="email"></span></div>
            <div><strong>Address:</strong> <span id="address"></span></div>
        </section>

        <section id="medical-history">
            <h2>Medical History</h2>
            <div><strong>Allergies:</strong> <span id="allergies"></span></div>
            <div><strong>Medications:</strong> <span id="medications"></span></div>
            <div><strong>Conditions:</strong> <span id="conditions"></span></div>
            <div><strong>Family History:</strong> <span id="familyHistory"></span></div>
        </section>

        <section id="appointment-details">
            <h2>Appointment Details</h2>
            <div><strong>Date & Time:</strong> <span id="dateTime"></span></div>
            <div><strong>Reason:</strong> <span id="reason"></span></div>
            <div><strong>Fee:</strong> <span id="fee"></span></div>
            <div><strong>Payment Method:</strong> <span id="paymentMethod"></span></div>
            <div><strong>Payment Ref:</strong> <span id="paymentRef"></span></div>
            <div>
                <strong>Proof of Payment:</strong><br>
                <img id="paymentProofImg" src="" alt="Proof of Payment"
                    style="max-width: 100%; max-height: 300px; display: none; border: 1px solid #ccc; margin-top: 8px;">
            </div>
            <div><strong>Payment Confirmed:</strong> <span id="paymentConfirmed"></span></div>
            <div><strong>Non-refundable Acknowledged:</strong> <span id="noRefundAccepted"></span></div>
            <div id="appointment-status">
                <strong>Status:</strong> <span id="status">Pending</span>
            </div>
        </section>

        <!-- Button container for all buttons -->
        <div class="button-container">
            <!-- Back to Dashboard Button (left aligned) -->
            <button id="back-button" onclick="location.href='patients.html'">Back to Appointments</button>

            <!-- Approve/Deny Buttons (right aligned) -->
            <div>
                <button id="approve-button" onclick="updateStatus('Approved')">Approve</button>
                <button id="deny-button" onclick="updateStatus('Denied')">Deny</button>
            </div>
        </div>

    </div>

    <script type="module" src="patient-details.js"></script>
</body>

</html>
